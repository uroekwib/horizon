{% doc %}
  @prompt
    Create a payment methods display block for the footer utilities section. The block should show "We Accept" text centered at the top, followed by payment method icons (Visa, Mastercard, American Express, PayPal, Apple Pay, Google Pay, Shop Pay, and Bank Transfer) arranged in a flexible row with proper spacing. The layout should be responsive and wrap on smaller screens. Include the exact HTML structure with SVG icons for each payment method, using flexbox with center alignment, 20px gap between icons, 24px vertical padding, and proper styling for the "We Accept" label (12px font, uppercase, letter-spacing, opacity 0.7).
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-payment-methods-{{ ai_gen_id }} {
    display: block;
    width: {{ block.settings.desktop_width_percent }}%;
    max-width: 100%;
    padding: {{ block.settings.vertical_padding }}px 0;
    text-align: center;
  }

  .ai-payment-methods__label-{{ ai_gen_id }} {
    font-size: {{ block.settings.label_font_size }}px;
    text-transform: uppercase;
    letter-spacing: {{ block.settings.label_letter_spacing }}px;
    opacity: {{ block.settings.label_opacity }};
    color: {{ block.settings.label_color }};
    margin-bottom: {{ block.settings.label_spacing }}px;
    font-weight: 500;
  }

  .ai-payment-methods__icons-{{ ai_gen_id }} {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: {{ block.settings.icon_gap }}px;
  }

  .ai-payment-methods__icon-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: {{ block.settings.icon_opacity }};
    transition: opacity 0.2s ease;
  }

  .ai-payment-methods__icon-{{ ai_gen_id }}:hover {
    opacity: 1;
  }

  .ai-payment-methods__icon-{{ ai_gen_id }} svg {
    width: {{ block.settings.icon_width }}px;
    height: auto;
    display: block;
  }

  @media screen and (max-width: 749px) {
    .ai-payment-methods__icon-{{ ai_gen_id }} svg {
      width: {{ block.settings.icon_width_mobile }}px;
    }
  }
{% endstyle %}

<payment-methods-{{ ai_gen_id }} class="ai-payment-methods-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  {% if block.settings.show_label %}
    <div class="ai-payment-methods__label-{{ ai_gen_id }}">
      {{ block.settings.label_text }}
    </div>
  {% endif %}

  <div class="ai-payment-methods__icons-{{ ai_gen_id }}">
    {% if block.settings.show_visa %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M20.5 11.5L18.2 20.5H16L18.3 11.5H20.5ZM28.8 16.8L30.1 13.2L30.9 16.8H28.8ZM31.8 20.5H33.8L32.1 11.5H30.3C29.9 11.5 29.6 11.7 29.4 12L26.2 20.5H28.5L29 19.1H31.7L31.8 20.5ZM26.5 17.9C26.5 15.8 23.5 15.7 23.5 14.7C23.5 14.4 23.8 14.1 24.4 14C24.7 14 25.5 14.1 26.3 14.5L26.7 12.7C26 12.4 25.1 12.2 24.1 12.2C22 12.2 20.5 13.3 20.5 14.9C20.5 16.1 21.6 16.7 22.4 17.1C23.2 17.5 23.5 17.7 23.5 18C23.5 18.5 22.9 18.7 22.4 18.7C21.4 18.7 20.9 18.5 20.1 18.2L19.7 20C20.5 20.3 22 20.6 22.6 20.6C24.9 20.6 26.5 19.5 26.5 17.9ZM17.5 11.5L13.5 20.5H11.2L9.2 13.3C9.1 12.9 9 12.7 8.7 12.5C8.2 12.2 7.3 11.9 6.5 11.7L6.6 11.5H10.5C11 11.5 11.4 11.8 11.5 12.4L12.5 17.8L15 11.5H17.5Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_mastercard %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <circle cx="18" cy="16" r="7" fill="#EB001B"/>
          <circle cx="30" cy="16" r="7" fill="#F79E1B"/>
          <path d="M24 11.5C22.8 12.5 22 14.2 22 16C22 17.8 22.8 19.5 24 20.5C25.2 19.5 26 17.8 26 16C26 14.2 25.2 12.5 24 11.5Z" fill="#FF5F00"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_amex %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M8 11H13.5L14.5 13L15.5 11H21V19.5H18.5V14L17 16.5H15L13.5 14V19.5H9.5L9 18.5H7L6.5 19.5H4L7 11ZM8 13.5L7 16H9L8 13.5ZM22.5 11H30L31 13L32 11H37.5L40.5 15.5L37.5 19.5H32L31 17.5L30 19.5H22.5V11ZM24.5 13V17.5H29.5L30.5 16L29.5 14.5H26V13.5H30V13H24.5ZM33 13L31.5 15.5L33 17.5H35.5L37 15.5L35.5 13H33Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_paypal %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M18.5 10H23C25.5 10 27 11.5 27 13.5C27 15.8 25.2 17.5 22.5 17.5H20.5L19.5 22H17L18.5 10ZM20.2 15.5H22C23.5 15.5 24.5 14.7 24.5 13.5C24.5 12.5 23.8 12 22.5 12H21L20.2 15.5ZM23 14H27.5C30 14 31.5 15.5 31.5 17.5C31.5 19.8 29.7 21.5 27 21.5H25L24 26H21.5L23 14ZM24.7 19.5H26.5C28 19.5 29 18.7 29 17.5C29 16.5 28.3 16 27 16H25.5L24.7 19.5Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_apple_pay %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M14.5 12.5C14.5 11.5 15.2 10.5 16 10C15.5 9.5 14.5 9 13.5 9C12.2 9 11 10 11 11.5C11 13 12.2 15 13.5 15C14.5 15 15.2 14.5 15.5 14C15 13.5 14.5 13 14.5 12.5ZM16.5 15C17.5 15 18.5 14 18.5 12.5C18.5 11 17.5 10 16.5 10C15.5 10 14.5 11 14.5 12.5C14.5 14 15.5 15 16.5 15ZM20 18.5V22H21.5V20.5H22.5C23.5 20.5 24.5 19.7 24.5 18.5C24.5 17.3 23.5 16.5 22.5 16.5H20V18.5ZM21.5 17.5H22.5C23 17.5 23.5 17.8 23.5 18.5C23.5 19.2 23 19.5 22.5 19.5H21.5V17.5ZM25 19C25 20.5 26 22 27.5 22C28.5 22 29 21.5 29.5 21V22H31V16.5H29.5V17.5C29 17 28.5 16.5 27.5 16.5C26 16.5 25 18 25 19ZM26.5 19C26.5 18 27 17.5 27.8 17.5C28.5 17.5 29.5 18 29.5 19C29.5 20 28.5 20.5 27.8 20.5C27 20.5 26.5 20 26.5 19ZM31.5 16.5L33.5 22H35L37 16.5H35.5L34.2 20.5L33 16.5H31.5Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_google_pay %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M23 19V16.5H27.5C27.5 17.5 27 18.5 26 19C25.5 19.5 24.5 19.5 23.5 19.5C21.5 19.5 20 18 20 16C20 14 21.5 12.5 23.5 12.5C24.5 12.5 25.5 13 26 13.5L27.5 12C26.5 11 25 10.5 23.5 10.5C20.5 10.5 18 13 18 16C18 19 20.5 21.5 23.5 21.5C25 21.5 26.5 21 27.5 20C28.5 19 29 17.5 29 16.5V15H23V19ZM30 18.5V22H31.5V20.5H32.5C33.5 20.5 34.5 19.7 34.5 18.5C34.5 17.3 33.5 16.5 32.5 16.5H30V18.5ZM31.5 17.5H32.5C33 17.5 33.5 17.8 33.5 18.5C33.5 19.2 33 19.5 32.5 19.5H31.5V17.5ZM35 19C35 20.5 36 22 37.5 22C38.5 22 39 21.5 39.5 21V22H41V16.5H39.5V17.5C39 17 38.5 16.5 37.5 16.5C36 16.5 35 18 35 19ZM36.5 19C36.5 18 37 17.5 37.8 17.5C38.5 17.5 39.5 18 39.5 19C39.5 20 38.5 20.5 37.8 20.5C37 20.5 36.5 20 36.5 19ZM41.5 16.5L43.5 22H45L47 16.5H45.5L44.2 20.5L43 16.5H41.5Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_shop_pay %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M12 13C12 11.5 13 10.5 14.5 10.5C15.5 10.5 16.5 11 17 12L18.5 10.5C17.5 9.5 16 9 14.5 9C12 9 10 11 10 13.5C10 16 12 18 14.5 18C16 18 17.5 17.5 18.5 16.5L17 15C16.5 15.5 15.5 16 14.5 16C13 16 12 15 12 13ZM19.5 9.5V17.5H21.5V14H23.5C25 14 26.5 13 26.5 11.5C26.5 10 25 9 23.5 9H19.5V9.5ZM21.5 11H23.5C24 11 24.5 11.5 24.5 12C24.5 12.5 24 13 23.5 13H21.5V11ZM27 19C27 20.5 28 22 29.5 22C30.5 22 31 21.5 31.5 21V22H33V16.5H31.5V17.5C31 17 30.5 16.5 29.5 16.5C28 16.5 27 18 27 19ZM28.5 19C28.5 18 29 17.5 29.8 17.5C30.5 17.5 31.5 18 31.5 19C31.5 20 30.5 20.5 29.8 20.5C29 20.5 28.5 20 28.5 19ZM33.5 16.5L35.5 22H37L39 16.5H37.5L36.2 20.5L35 16.5H33.5Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}

    {% if block.settings.show_bank_transfer %}
      <div class="ai-payment-methods__icon-{{ ai_gen_id }}">
        <svg viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="32" rx="4" fill="{{ block.settings.icon_background }}"/>
          <path d="M24 9L10 14V15H38V14L24 9ZM12 16V21H14V16H12ZM16 16V21H18V16H16ZM20 16V21H22V16H20ZM24 16V21H26V16H24ZM28 16V21H30V16H28ZM32 16V21H34V16H32ZM10 22V24H38V22H10Z" fill="{{ block.settings.icon_color }}"/>
        </svg>
      </div>
    {% endif %}
  </div>
</payment-methods-{{ ai_gen_id }}>

<script>
  (function() {
    class PaymentMethods{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }
    }

    customElements.define('payment-methods-{{ ai_gen_id }}', PaymentMethods{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Payment methods",
  "settings": [
    {
      "type": "header",
      "content": "Label"
    },
    {
      "type": "checkbox",
      "id": "show_label",
      "label": "Show label",
      "default": true
    },
    {
      "type": "text",
      "id": "label_text",
      "label": "Label text",
      "default": "We Accept"
    },
    {
      "type": "range",
      "id": "label_font_size",
      "label": "Font size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "label_letter_spacing",
      "label": "Letter spacing",
      "min": 0,
      "max": 3,
      "step": 0.5,
      "unit": "px",
      "default": 1
    },
    {
      "type": "range",
      "id": "label_opacity",
      "label": "Opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.7
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "label_spacing",
      "label": "Spacing below label",
      "min": 8,
      "max": 32,
      "step": 4,
      "unit": "px",
      "default": 16
    },
    {
      "type": "header",
      "content": "Payment icons"
    },
    {
      "type": "checkbox",
      "id": "show_visa",
      "label": "Show Visa",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_mastercard",
      "label": "Show Mastercard",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_amex",
      "label": "Show American Express",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_paypal",
      "label": "Show PayPal",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_apple_pay",
      "label": "Show Apple Pay",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_google_pay",
      "label": "Show Google Pay",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_shop_pay",
      "label": "Show Shop Pay",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_bank_transfer",
      "label": "Show Bank Transfer",
      "default": true
    },
    {
      "type": "header",
      "content": "Icon style"
    },
    {
      "type": "range",
      "id": "icon_width",
      "label": "Desktop width",
      "min": 32,
      "max": 64,
      "step": 4,
      "unit": "px",
      "default": 48
    },
    {
      "type": "range",
      "id": "icon_width_mobile",
      "label": "Mobile width",
      "min": 24,
      "max": 48,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "icon_gap",
      "label": "Gap between icons",
      "min": 8,
      "max": 32,
      "step": 4,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "icon_opacity",
      "label": "Opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.7
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "icon_background",
      "label": "Background color",
      "default": "#f5f5f5"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "vertical_padding",
      "label": "Vertical padding",
      "min": 0,
      "max": 48,
      "step": 4,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "desktop_width_percent",
      "label": "Desktop width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 100
    }
  ],
  "presets": [
    {
      "name": "Payment methods"
    }
  ]
}
{% endschema %}
